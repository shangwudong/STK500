# Travis CI for compiling Atmel Studio 7 Solution
# -----------------------------------------------
language: c
sudo: false

# Dependencies
addons:
  apt:
    packages:
      - binutils-avr
      - avr-libc
      - gcc-avr

install:
  - avr-gcc --version
  - make --version

# Execute Commands bevor Build
before_script:
  - chmod 0777 scripts/CI/makefile2unix.sh
  - scripts/CI/makefile2unix.sh uart/
  - scripts/CI/makefile2unix.sh uartDEMO/
  - scripts/CI/makefile2unix.sh spi/
  - scripts/CI/makefile2unix.sh spiDEMO/
  - scripts/CI/makefile2unix.sh twi/
  - scripts/CI/makefile2unix.sh twiDEMO/
  - scripts/CI/makefile2unix.sh adc/
  - scripts/CI/makefile2unix.sh adcDEMO/
  - scripts/CI/makefile2unix.sh pwm/
  - scripts/CI/makefile2unix.sh pwmDEMO/
  - scripts/CI/makefile2unix.sh lcd/
  - scripts/CI/makefile2unix.sh lcdDEMO/


# Run Build Script
script:
	# SPI library
  - cd spi/Debug
  - mkdir src
  - make
  - cd ../../
	# SPI Demo project
  - cd spiDEMO/Debug
  - mkdir src
  - make
  - cd ../../
  # UART library
  - cd uart/Debug
  - mkdir src
  - make
  - cd ../../
	# UART Demo project
  - cd uartDEMO/Debug
  - mkdir src
  - make
  - cd ../../
  # TWI library
  - cd twi/Debug
  - mkdir src
  - make
  - cd ../../
	# TWI Demo project
  - cd twiDEMO/Debug
  - mkdir src
  - make
  - cd ../../
  # PWM library
  - cd pwm/Debug
  - mkdir src
  - make
  - cd ../../
	# PWM Demo project
  - cd pwmDEMO/Debug
  - mkdir src
  - make
  - cd ../../
  # ADC library
  - cd adc/Debug
  - mkdir src
  - make
  - cd ../../
	# ADC Demo project
  - cd adcDEMO/Debug
  - mkdir src
  - make
  - cd ../../
  # LCD library
  - cd lcd/Debug
  - mkdir src
  - make
  - cd ../../
	# LCD Demo project
  - cd lcdDEMO/Debug
  - mkdir src
  - make
  - cd ../../
